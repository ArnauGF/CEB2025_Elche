---
title: " "
format:
  revealjs:
    theme: simple
    css: custom.css
    slide-number: true
    controls: false
    menu: false
---

## <!-- This creates a slide without a visible heading -->

::: {style="text-align: center;"}
[Optimizing dynamic predictions from joint models for multivariate longitudinal and time-to-event data via super learning approach]{style="font-size: 100%; font-weight: bold;"}

<br>

[CEB2026]{style="font-size: 100%; font-weight: bold;"}

<br>

[Arnau Garcia-Fernández, Guadalupe Gómez-Melis, Dimitris Rizopoulos]{style="font-size: 80%;"}

<br>

[September 17, 2025 --- Elche]{style="font-size: 50%;"}

<br>

<img src="images/Erasmus.png" style="height:70px; margin: 0 20px;"/> <img src="images/grbio.png" style="height:70px; margin: 0 20px;"/> <img src="images/upc.png" style="height:70px; margin: 0 20px;"/>
:::

## Context and motivation

-   [Time-to-event and longitudinal data]{style="color:green;"} are fundamental in health-related data
-   A significant feature is its [temporal]{style="color:green;"} dimension, allowing for [dynamic predictions]{style="color:green;"}
-   These predictions have demonstrated utility in [precision medicine]{style="color:green;"}

## Context and motivation

-   [Joint models (JMs)]{style="color:green;"} provide a powerful framework for analyzing time-to-event and longitudinal data together
-   JMs allow [dynamic predictions]{style="color:green;"}
-   Applying JMs to multivariate longitudinal data poses [challenges]{style="color:red;"} due to the [increased number of random effects and parameters]{style="color:red;"}

## The PBC dataset

-   The [PBC dataset]{style="color:green;"} is a widely used, [freely available]{style="color:green;"}, dataset that will be used to apply the methods
-   By using the PBC dataset, all methods are [fully reproducible]{style="color:green;"} 
-   Primary biliary cirrhosis (PBC) is a rare disease that could eventually lead to liver cirrhosis

## The PBC dataset


<div class="image-grid">
  
  <img src="images/KM_PBC.png" style="width:290px;" class="fragment fade-in">
  
  <img src="images/NA_PBC.png" style="width:290px;" class="fragment fade-in">

  <img src="images/y1_PBC.png" style="width:290px;" class="fragment fade-in">
  
  <img src="images/y2_PBC.png" style="width:290px;" class="fragment fade-in">
  
  <img src="images/y3_PBC.png" style="width:290px;" class="fragment fade-in">
  
  <img src="images/y4_PBC.png" style="width:290px;" class="fragment fade-in">
  
  <!-- SVG rectangle for first two images (green) -->
  <svg class="highlight-line fragment"  
       style="top:0; left:0; width: 702px; height: 351px;">
    <line x1="1" y1="1" x2="701" y2="1" stroke="green" stroke-width="4" />
    <line x1="1" y1="1" x2="1" y2="320" stroke="green" stroke-width="4" />
    <line x1="1" y1="320" x2="701" y2="320" stroke="green" stroke-width="4" />
    <line x1="701" y1="1" x2="701" y2="320" stroke="green" stroke-width="4" />
  </svg>

  <!-- SVG rectangle for last four images (red) -->
  <svg class="highlight-line fragment" 
       style="position:absolute; top:0; left:0; width: 1100px; height: 720px;"viewBox="0 0 1061 719">
    <line x1="0" y1="360" x2="701" y2="360" stroke="red" stroke-width="4" />
    <line x1="701" y1="360" x2="701" y2="1" stroke="red" stroke-width="4" />
    <line x1="701" y1="1" x2="1020" y2="1" stroke="red" stroke-width="4" />
    <line x1="1020" y1="1" x2="1020" y2="630" stroke="red" stroke-width="4" />
    <line x1="1020" y1="630" x2="0" y2="630" stroke="red" stroke-width="4" />
    <line x1="0" y1="630" x2="0" y2="360" stroke="red" stroke-width="4" />
  </svg>


</div>

## Notation

-   $\require{color}\textcolor{teal}{T_1^*,\dots, T_n^*}$ true time until event
-   $\require{color}\textcolor{teal}{C_1,\dots, C_n}$ true time until event
-   $\require{color}\textcolor{teal}{T_i=\min(T_i^*, C_i)}$ observed times, $i=1,\dotsc,n$
-   $\require{color}\textcolor{teal}{\delta_i=\mathbf{1}\{T_i^*\leq C_i\}}$ censoring indicator, $i=1,\dotsc,n$
-   Longitudinal data $\require{color}\textcolor{teal}{\{\boldsymbol{y}_{li}; i=1,\dots,n, l=1,\dots,L\}}$
    -   $\require{color}\textcolor{teal}{y_{li}(t_{ij})}$ value of the longitudinal outcome at $t_{ij}$, $j=1,\dots,n_{li}$
-   $\require{color}\textcolor{teal}{w_i}$ vector of baseline covarites


## Multivariate longitudinal data

<div style="position:absolute; top:15%; left:10%; font-size:30px;">
  <img src="images/men1.png" style="width:50%;" class="fragment fade-in">
</div>

<div style="position:absolute; top:15%; left:33%; font-size:30px;">
  <img src="images/men2.png" style="width:42%;" class="fragment fade-in">
</div>

<div style="position:absolute; top:30%; left:55%; font-size:30px;" class="fragment fade-in">
  $$\huge{\cdots}$$
</div>

<div style="position:absolute; top:15%; left:80%; font-size:30px;">
  <img src="images/men3.png" style="width:50%;" class="fragment fade-in">
</div>

<div style="position:absolute; top:55%; left:13%; font-size:30px;">
  <img src="images/arrow.png" style="width:18%;" class="fragment fade-in">
</div>

::: {.fragment .fade-in-then-out}
<div style="position:absolute; top:80%; left:9%; font-size:30px;">
  $$\begin{split}
  (T_1 &,\delta_1) \\
  &w_1
  \end{split}$$
</div>
:::

<div style="position:absolute; top:80%; left:3%; font-size:30px;" class="fragment fade-in">
  $$\scriptsize{\begin{split}
  (1.09 , & 1) \\
  (\text{female}, \text{ D} & \text{-peni} , 57)
  \end{split}}$$
</div>

<div style="position:absolute; top:55%; left:36%; font-size:30px;">
  <img src="images/arrow.png" style="width:18%;" class="fragment fade-in">
</div>

::: {.fragment .fade-in-then-out}
<div style="position:absolute; top:80%; left:32%; font-size:30px;">
  $$\begin{split}
  (T_2 &,\delta_2) \\
  &w_2
  \end{split}$$
</div>
:::

<div style="position:absolute; top:80%; left:27%; font-size:30px;" class="fragment fade-in">
  $$\scriptsize{\begin{split}
  (14.15 , & 0) \\
  (\text{female}, \text{ D} & \text{-peni}  , 56)
  \end{split}}$$
</div>

<div style="position:absolute; top:55%; left:84%; font-size:30px;">
  <img src="images/arrow.png" style="width:18%;" class="fragment fade-in">
</div>

::: {.fragment .fade-in-then-out}
<div style="position:absolute; top:80%; left:79%; font-size:30px;">
  $$\begin{split}
  (T_n &,\delta_n) \\
  &w_n
  \end{split}$$
</div>
:::

<div style="position:absolute; top:80%; left:72%; font-size:30px;" class="fragment fade-in">
  $$\scriptsize{\begin{split}
  (3.98 , & 0) \\
  (\text{female}, \text{ plac} & \text{ebo} , 33)
  \end{split}}$$
</div>


## Multivariate longitudinal data 

<div style="position:absolute; top:15%; left:10%; font-size:30px;">
  <img src="images/men1.png" style="width:50%;">
</div>

<div style="position:absolute; top:15%; left:33%; font-size:30px;">
  <img src="images/men2.png" style="width:42%;">
</div>

<div style="position:absolute; top:30%; left:55%; font-size:30px;">
  $$\huge{\cdots}$$
</div>

<div style="position:absolute; top:15%; left:80%; font-size:30px;">
  <img src="images/men3.png" style="width:50%;">
</div>

<div style="position:absolute; top:55%; left:13%; font-size:30px;">
  <img src="images/arrow.png" style="width:18%;">
</div>

<div style="position:absolute; top:55%; left:36%; font-size:30px;">
  <img src="images/arrow.png" style="width:18%;">
</div>

<div style="position:absolute; top:55%; left:84%; font-size:30px;">
  <img src="images/arrow.png" style="width:18%;">
</div>

<div style="position:absolute; top:80%; left:4%; font-size:30px;" class="fragment fade-in">
  $$\scriptsize{\begin{split}
  (T_1 &,\delta_1) \\
  &w_1 \\
  (y_{11}(t_{ij}), & \dots, y_{L1}(t_{ij}))
  \end{split}}$$
</div>

<div style="position:absolute; top:80%; left:28%; font-size:30px;" class="fragment fade-in">
  $$\scriptsize{\begin{split}
  (T_2 &,\delta_2) \\
  &w_2 \\
  (y_{12}(t_{ij}), & \dots, y_{L2}(t_{ij}))
  \end{split}}$$
</div>

<div style="position:absolute; top:80%; left:75%; font-size:30px;" class="fragment fade-in">
  $$\scriptsize{\begin{split}
  (T_n &,\delta_n) \\
  &w_n \\
  (y_{1n}(t_{ij}), & \dots, y_{Ln}(t_{ij}))
  \end{split}}$$
</div>

## Multivariate longitudinal data

<div style="position:absolute; top:20%; left:2%; font-size:30px;">
  <img src="images/men5.png" style="width:50%;" class="fragment fade-in">
</div>

<div style="position:absolute; top:65%; left:6%; font-size:30px;" class="fragment fade-in">
  $$i$$
</div>

<div style="position:absolute; top:40%; left:10%; font-size:30px;">
  <img src="images/arrowh.png" style="width:15%;" class="fragment fade-in">
</div>

<div style="position:absolute; top:15%; left:60%; font-size:25px;" class="fragment fade-in">
  $$\scriptsize{\begin{split}
  &(T_i ,\delta_i) = (6.43, 0) \\
  w_i &= (\text{female}, \text{ D} \text{-peni}  , 56)
  \end{split}}$$
</div>

<div style="position:absolute; top:25%; left:47%; font-size:25px;" class="fragment fade-in">
  $$\scriptsize{\begin{split}
  &(y_{1i}(t_{ij}), y_{2i}(t_{ij}) , y_{3i}(t_{ij})) = \\
  (\log(\texttt{serBilir})_i&(t_{ij}), \texttt{albumin}_i(t_{ij}), \texttt{alkaline}_i(t_{ij})) 
  \end{split}}$$
</div>

<div style="position:absolute; top:40%; left:23%; font-size:30px;">
  <img src="images/id_logSB_PBC.png" style="width:33%;" class="fragment fade-in">
</div>

<div style="position:absolute; top:38%; left:48%; font-size:30px;">
  <img src="images/id_alb_PBC.png" style="width:53%;" class="fragment fade-in">
</div>

<div style="position:absolute; top:40%; left:73%; font-size:30px;">
  <img src="images/id_alk_PBC.png" style="width:100%;" class="fragment fade-in">
</div>



## Code

When you click the **Render** button a presentation will be generated that includes both content and the output of embedded code. You can embed code like this:

```{r}
1 + 1
```

## Formulas

Nice formulas with colors and backgrounds:

$$\require{color}
{\scriptsize{
\begin{cases}
\text{MELD}_i(t)&= \colorbox{#03858C}{$\color{#F5ECCF}\boldsymbol x_{1i}^\top(t)\boldsymbol\beta_1 + \boldsymbol z_{1i}^\top(t)\boldsymbol b_{1i}$} + \varepsilon_1(t) \\
\text{TBS}_i(t)&= \colorbox{#03858C}{$\color{#F5ECCF}\boldsymbol x_{2i}^\top(t)\boldsymbol\beta_2 + \boldsymbol z_{2i}^\top(t)\boldsymbol b_{2i}$} + \varepsilon_2(t) \\
\text{AFP}_i(t)&= \colorbox{#03858C}{$\color{#F5ECCF}\boldsymbol x_{3i}^\top(t)\boldsymbol\beta_3 + \boldsymbol z_{3i}^\top(t)\boldsymbol b_{3i}$} + \varepsilon_3(t) \\
\log h_i(t) &= \log h_0(t) + w_{Ri}^\top(t)\boldsymbol\gamma_R\, + \color{transparent} \boxed{\color{#03858C}\mathbf{1}\{t>T_i\}\left(\gamma_\text{T}+w_{Di}^\top(t)\boldsymbol\gamma_D\right)} \,\color{#03858C}+ \\
\color{transparent}\log h_i(t) &\color{#03858C}+\, \color{#03858C}\boxed{\color{#03858C}\tfrac{\delta}{\delta t^\ast}\colorbox{#03858C}{$\color{#F5ECCF}\eta_{1i}(t^\ast)$}\,}\color{#03858C}\alpha_{1,1} + \color{#03858C}\boxed{\color{#03858C}\tfrac{\delta}{\delta t^\ast}\colorbox{#03858C}{$\color{#F5ECCF}\eta_{2i}(t^\ast)$}\,}\color{#03858C}\alpha_{2,1} + \color{#03858C}\boxed{\color{#03858C}\tfrac{\delta}{\delta t^\ast}\colorbox{#03858C}{$\color{#F5ECCF}\eta_{3i}(t^\ast)$}\,}\color{#03858C}\alpha_{3,1} + \\
\color{transparent}\log h_i(t) &\color{#03858C}+\, \color{transparent}\boxed{\color{#03858C}\tfrac{1}{t^\ast}{\textstyle\int\,}\colorbox{#03858C}{$\color{#F5ECCF}\eta_{1i}(t^\ast)$}ds}\color{#03858C}\,\alpha_{1,2} + \color{transparent}\boxed{\color{#03858C}\tfrac{1}{t^\ast}{\textstyle\int\,}\colorbox{#03858C}{$\color{#F5ECCF}\eta_{2i}(t^\ast)$}\mbox{d}s}\color{#03858C}\,\alpha_{2,2} + \color{transparent}\boxed{\color{#03858C}\tfrac{1}{t^\ast}{\textstyle\int\,}\colorbox{#03858C}{$\color{#F5ECCF}\eta_{3i}(t^\ast)$}\mbox{d}s}\color{#03858C}\,\alpha_{3,2}
\end{cases}\\
}}$$

## Images

Let us display a nice animated figure:

![](images/JMBayes2-logo-no-background.gif){width="30%"}
